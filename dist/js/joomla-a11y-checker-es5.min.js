function e(e, t, a, n, r, s, i) {
  try {
    var o = e[s](i),
        l = o.value;
  } catch (e) {
    return void a(e);
  }

  o.done ? t(l) : Promise.resolve(l).then(n, r);
}

function t(t) {
  return function () {
    var a = this,
        n = arguments;
    return new Promise(function (r, s) {
      var i = t.apply(a, n);

      function o(t) {
        e(i, r, s, o, l, "next", t);
      }

      function l(t) {
        e(i, r, s, o, l, "throw", t);
      }

      o(void 0);
    });
  };
}

function a(e, t, a) {
  return t in e ? Object.defineProperty(e, t, {
    value: a,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = a, e;
}

function n(e, t) {
  var n,
      r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
  if (ValidTypes = new Set([sa11yError, sa11yWarning, sa11yGood]), CSSName = (a(n = {}, sa11yError, "error"), a(n, sa11yWarning, "warning"), a(n, sa11yGood, "good"), n), !ValidTypes.has(e)) throw Error;
  return t && "[object Function]" === {}.toString.call(t) && (t = t()), "\n        <div class=".concat(r ? "sa11y-instance-inline" : "sa11y-instance", '>\n            <button\n            type="button"   \n            aria-label="').concat([e], '" \n            class="sa11y-btn \n            sa11y-').concat(CSSName[e], "-btn").concat(r ? "-text" : "", '" \n            data-tippy-content="<div lang=\'').concat(sa11yLangCode, "'>\n                <div class='sa11y-header-text'>").concat([e], "\n                </div>\n                ").concat(t, ' \n            </div>\n        "> \n        </button>\n        </div>');
}

function r(e, t) {
  var n;
  if (ValidTypes = new Set([sa11yError, sa11yWarning, sa11yGood]), CSSName = (a(n = {}, sa11yError, "error"), a(n, sa11yWarning, "warning"), a(n, sa11yGood, "good"), n), !ValidTypes.has(e)) throw Error;
  return t && "[object Function]" === {}.toString.call(t) && (t = t()), '<div class="sa11y-instance sa11y-'.concat(CSSName[e], '-message-container">\n        <div role="region" aria-label="').concat([e], '" class="sa11y-').concat(CSSName[e], '-message" lang="').concat(sa11yLangCode, '">\n            ').concat(t, "\n        </div>\n    </div>");
}

var s, i, o;
s = {
  langCode: "en",
  langStrings: {},
  addI18n: function addI18n(e, t) {
    s.langCode = e, s.langStrings = t;
  },
  _: function _(e) {
    return s.translate(e);
  },
  sprintf: function sprintf(e) {
    for (var t, a = s._(e), n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) {
      r[i - 1] = arguments[i];
    }

    return (t = window).sprintf.apply(t, [a].concat(r));
  },
  translate: function translate(e) {
    return s.langStrings[e] || e;
  }
}, Joomla && Joomla.Text && Joomla.Text._ && (s.translate = Joomla.Text._), window.Sa11y = s, jQuery.noConflict(), i = jQuery, o = window.Sa11y, null === window.navigator.userAgent.match(/MSIE|Trident/) && new function e() {
  var s = this;
  !function (e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
  }(this, e), a(this, "sa11yMainToggle", function () {
    var e = document.getElementById("sa11y-toggle");
    e.addEventListener("click", function (t) {
      "Opened" === localStorage.getItem("sa11y-remember-panel") ? (localStorage.setItem("sa11y-remember-panel", "Closed"), e.classList.remove("sa11y-on"), e.setAttribute("aria-expanded", "false"), s.resetAll(), s.updateBadge(), t.preventDefault()) : (localStorage.setItem("sa11y-remember-panel", "Opened"), e.classList.add("sa11y-on"), e.setAttribute("aria-expanded", "true"), s.checkAll(), document.getElementById("sa11y-notification-badge").style.display = "none", t.preventDefault());
    }), "Opened" === localStorage.getItem("sa11y-remember-panel") && (e.classList.add("sa11y-on"), e.setAttribute("aria-expanded", "true")), e.classList.contains("sa11y-on") && (e.classList.toggle("loading-sa11y"), e.setAttribute("aria-expanded", "true"), setTimeout(s.checkAll, 800)), document.onkeydown = function (t) {
      ("key" in (t = t || window.event) ? "Escape" === t.key || "Esc" === t.key : 27 === t.keyCode) && document.getElementById("sa11y-panel").classList.contains("sa11y-active") && (tippy.hideAll(), e.setAttribute("aria-expanded", "false"), e.classList.remove("sa11y-on"), e.click(), this.resetAll());
    };
  }), a(this, "loadGlobals", function () {
    "string" == typeof sa11yCheckRoot && 0 !== i(sa11yCheckRoot).length || (sa11yCheckRoot = "body"), "string" == typeof sa11yReadabilityRoot && 0 !== i(sa11yReadabilityRoot).length || (sa11yReadabilityRoot = "body");
    var e = ", ";

    if (sa11yLinkIgnoreSpan.length > 0) {
      var t = sa11yLinkIgnoreSpan.split(",");
      sa11yLinkIgnoreSpan = "noscript, " + t.join();
    } else sa11yLinkIgnoreSpan = "noscript";

    if (sa11yContainerIgnore.length > 0) {
      for (var a = sa11yContainerIgnore.split(","), n = 0; n < a.length; n++) {
        a[n] = a[n] + " *, " + a[n];
      }

      sa11yContainerIgnore = "[aria-hidden='true'], #sa11y-container *, .sa11y-instance *, " + a.join();
    } else sa11yContainerIgnore = "[aria-hidden='true'], #sa11y-container *, .sa11y-instance *";

    s.containerIgnore = sa11yContainerIgnore, sa11yImageIgnore.length > 1 && (sa11yImageIgnore += e), s.imageIgnore = sa11yImageIgnore + s.containerIgnore + e + "[role='presentation'], [src^='https://trck.youvisit.com']", s.headerIgnore = sa11yHeaderIgnore, sa11yLinkIgnore.length > 0 && (sa11yLinkIgnore += e), s.linkIgnore = sa11yLinkIgnore + sa11yContainerIgnore + e + "[aria-hidden='true'], .anchorjs-link", sa11yHeaderIgnore.length > 0 ? s.headerIgnore += e + sa11yContainerIgnore : s.headerIgnore = sa11yContainerIgnore;
  }), a(this, "sanitizeHTMLandComputeARIA", function () {
    s.sanitizeForHTML = function (e) {
      var t = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
        "/": "&#x2F;",
        "`": "&#x60;",
        "=": "&#x3D;"
      };
      return String(e).replace(/[&<>"'`=\/]/g, function (e) {
        return t[e];
      });
    }, i.fn.ignore = function (e) {
      return this.clone().find(e || ">*").remove().end();
    }, s.computeTextNodeWithImage = function (e) {
      var t = "";
      if (0 === e.find("img").length && e.text().trim().length > 1) t = e.text().trim();else if (e.find("img").length && 0 === e.text().trim().length) {
        var a = e.find("img").attr("alt");
        null == a || " " == a || "" == a ? t = " " : void 0 !== e.find("img").attr("alt") && (t = a);
      } else e.find("img").length && e.text().trim().length && (e.find("img").each(function () {
        i(this).clone().insertAfter(i(this)).replaceWith(" <span class='sa11y-clone-image-text' aria-hidden='true'>" + i(this).attr("alt") + "</span> ");
      }), t = e.text().trim());
      return t;
    }, s.computeAriaLabel = function (e) {
      if (e.is("[aria-label]")) return e.attr("aria-label");

      if (e.is("[aria-labelledby]")) {
        var t = e.attr("aria-labelledby").split(/\s+/);

        if (t.length > 0) {
          var a = "";
          return i.each(i(t), function (e, t) {
            a += i("#" + t).ignore("span.sa11y-heading-label").text() + " ";
          }), a;
        }

        return "";
      }

      if (e.children().is("[aria-label]")) return e.children().attr("aria-label");
      if (e.children().is("[title]")) return e.children().attr("title");

      if (e.children().is("[aria-labelledby]")) {
        var n = e.children().attr("aria-labelledby").split(/\s+/);

        if (n.length > 0) {
          var r = "";
          return i.each(i(n), function (e, t) {
            r += i("#" + t).ignore("span.sa11y-heading-label").text() + " ";
          }), r;
        }

        return "";
      }

      return "noAria";
    };
  }), a(this, "settingPanelToggles", function () {
    var e = document.getElementById("sa11y-contrast-toggle");
    e.onclick = t(regeneratorRuntime.mark(function t() {
      return regeneratorRuntime.wrap(function (t) {
        for (;;) {
          switch (t.prev = t.next) {
            case 0:
              if ("On" !== localStorage.getItem("sa11y-remember-contrast")) {
                t.next = 9;
                break;
              }

              return localStorage.setItem("sa11y-remember-contrast", "Off"), e.textContent = "".concat(sa11yOff), e.setAttribute("aria-pressed", "false"), s.resetAll(!1), t.next = 7, s.checkAll();

            case 7:
              t.next = 15;
              break;

            case 9:
              return localStorage.setItem("sa11y-remember-contrast", "On"), e.textContent = "".concat(sa11yOn), e.setAttribute("aria-pressed", "true"), s.resetAll(!1), t.next = 15, s.checkAll();

            case 15:
            case "end":
              return t.stop();
          }
        }
      }, t);
    }));
    var a = document.getElementById("sa11y-labels-toggle");
    a.onclick = t(regeneratorRuntime.mark(function e() {
      return regeneratorRuntime.wrap(function (e) {
        for (;;) {
          switch (e.prev = e.next) {
            case 0:
              if ("On" !== localStorage.getItem("sa11y-remember-labels")) {
                e.next = 9;
                break;
              }

              return localStorage.setItem("sa11y-remember-labels", "Off"), a.textContent = "".concat(sa11yOff), a.setAttribute("aria-pressed", "false"), s.resetAll(!1), e.next = 7, s.checkAll();

            case 7:
              e.next = 15;
              break;

            case 9:
              return localStorage.setItem("sa11y-remember-labels", "On"), a.textContent = "".concat(sa11yOn), a.setAttribute("aria-pressed", "true"), s.resetAll(!1), e.next = 15, s.checkAll();

            case 15:
            case "end":
              return e.stop();
          }
        }
      }, e);
    }));
    var n = document.getElementById("sa11y-links-advanced-toggle");
    n.onclick = t(regeneratorRuntime.mark(function e() {
      return regeneratorRuntime.wrap(function (e) {
        for (;;) {
          switch (e.prev = e.next) {
            case 0:
              if ("On" !== localStorage.getItem("sa11y-remember-links-advanced")) {
                e.next = 9;
                break;
              }

              return localStorage.setItem("sa11y-remember-links-advanced", "Off"), n.textContent = "".concat(sa11yOff), n.setAttribute("aria-pressed", "false"), s.resetAll(!1), e.next = 7, s.checkAll();

            case 7:
              e.next = 15;
              break;

            case 9:
              return localStorage.setItem("sa11y-remember-links-advanced", "On"), n.textContent = "".concat(sa11yOn), n.setAttribute("aria-pressed", "true"), s.resetAll(!1), e.next = 15, s.checkAll();

            case 15:
            case "end":
              return e.stop();
          }
        }
      }, e);
    }));
    var r = document.getElementById("sa11y-readability-toggle");
    r.onclick = t(regeneratorRuntime.mark(function e() {
      return regeneratorRuntime.wrap(function (e) {
        for (;;) {
          switch (e.prev = e.next) {
            case 0:
              if ("On" !== localStorage.getItem("sa11y-remember-readability")) {
                e.next = 10;
                break;
              }

              return localStorage.setItem("sa11y-remember-readability", "Off"), r.textContent = "".concat(sa11yOff), r.setAttribute("aria-pressed", "false"), document.getElementById("sa11y-readability-panel").classList.remove("sa11y-active"), s.resetAll(!1), e.next = 8, s.checkAll();

            case 8:
              e.next = 17;
              break;

            case 10:
              return localStorage.setItem("sa11y-remember-readability", "On"), r.textContent = "".concat(sa11yOn), r.setAttribute("aria-pressed", "true"), document.getElementById("sa11y-readability-panel").classList.add("sa11y-active"), s.resetAll(!1), e.next = 17, s.checkAll();

            case 17:
            case "end":
              return e.stop();
          }
        }
      }, e);
    })), "On" === localStorage.getItem("sa11y-remember-readability") && document.getElementById("sa11y-readability-panel").classList.add("sa11y-active");
    var i = window.matchMedia("(prefers-color-scheme: dark)"),
        o = document.getElementById("sa11y-theme-toggle"),
        l = document.querySelector("html"),
        c = localStorage.getItem("sa11y-remember-theme");
    i.matches ? (o.textContent = "".concat(sa11yOn), o.setAttribute("aria-pressed", "true")) : (o.textContent = "".concat(sa11yOff), o.setAttribute("aria-pressed", "false")), i.addListener(function (e) {
      e.matches ? (l.setAttribute("data-sa11y-theme", "dark"), o.textContent = "".concat(sa11yOn), o.setAttribute("aria-pressed", "true"), localStorage.setItem("sa11y-remember-theme", "")) : (l.setAttribute("data-sa11y-theme", "light"), o.textContent = "".concat(sa11yOff), o.setAttribute("aria-pressed", "false"), localStorage.setItem("sa11y-remember-theme", ""));
    }), o.onclick = t(regeneratorRuntime.mark(function e() {
      var t;
      return regeneratorRuntime.wrap(function (e) {
        for (;;) {
          switch (e.prev = e.next) {
            case 0:
              "dark" === (t = localStorage.getItem("sa11y-remember-theme")) ? (l.setAttribute("data-sa11y-theme", "light"), localStorage.setItem("sa11y-remember-theme", "light"), o.textContent = "".concat(sa11yOff), o.setAttribute("aria-pressed", "false")) : "light" === t ? (l.setAttribute("data-sa11y-theme", "dark"), localStorage.setItem("sa11y-remember-theme", "dark"), o.textContent = "".concat(sa11yOn), o.setAttribute("aria-pressed", "true")) : i.matches ? (l.setAttribute("data-sa11y-theme", "light"), localStorage.setItem("sa11y-remember-theme", "light"), o.textContent = "".concat(sa11yOff), o.setAttribute("aria-pressed", "false")) : (l.setAttribute("data-sa11y-theme", "dark"), localStorage.setItem("sa11y-remember-theme", "dark"), o.textContent = "".concat(sa11yOn), o.setAttribute("aria-pressed", "true"));

            case 2:
            case "end":
              return e.stop();
          }
        }
      }, e);
    })), "dark" === c ? (l.setAttribute("data-sa11y-theme", "dark"), localStorage.setItem("sa11y-remember-theme", "dark"), o.textContent = "".concat(sa11yOn), o.setAttribute("aria-pressed", "true")) : "light" === c && (l.setAttribute("data-sa11y-theme", "light"), localStorage.setItem("sa11y-remember-theme", "light"), o.textContent = "".concat(sa11yOff), o.setAttribute("aria-pressed", "false"));
  }), a(this, "initializeJumpToIssueTooltip", function () {
    tippy("#sa11y-cycle-toggle", {
      content: '<div style="text-align:center">'.concat(sa11yShortcutTooltip, ' &raquo;<br><span class="sa11y-shortcut-icon"></span></div>'),
      allowHTML: !0,
      delay: [900, 0],
      trigger: "mouseenter focusin",
      arrow: !0,
      placement: "top",
      theme: "sa11y-theme",
      aria: {
        content: null,
        expanded: !1
      },
      appendTo: document.body
    });
  }), a(this, "checkAll", t(regeneratorRuntime.mark(function e() {
    return regeneratorRuntime.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s.errorCount = 0, s.warningCount = 0, s.root = i(sa11yCheckRoot), s.readabilityRoot = i(sa11yReadabilityRoot), s.findElements(), s.checkHeaders(), s.checkLinkText(), s.checkAltText(), "On" === localStorage.getItem("sa11y-remember-contrast") && s.checkContrast(), "On" === localStorage.getItem("sa11y-remember-labels") && s.checkLabels(), "On" === localStorage.getItem("sa11y-remember-links-advanced") && s.checkLinksAdvanced(), "On" === localStorage.getItem("sa11y-remember-readability") && s.checkReadability(), s.checkEmbeddedContent(), s.checkQA(), s.panelActive ? s.resetAll() : s.updatePanel(), s.initializeTooltips(), s.detectOverflow(), 0 == document.getElementsByClassName("sa11y-on").length && s.updateBadge();

          case 18:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))), a(this, "resetAll", function () {
    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
    s.panelActive = !1, s.clearEverything();
    var t = document.getElementById("sa11y-outline-toggle"),
        a = t.cloneNode(!0);
    t.parentNode.replaceChild(a, t);
    var n = document.getElementById("sa11y-settings-toggle"),
        r = n.cloneNode(!0);
    n.parentNode.replaceChild(r, n), document.querySelectorAll(".sa11y-error-border").forEach(function (e) {
      return e.classList.remove("sa11y-error-border");
    }), document.querySelectorAll(".sa11y-error-heading").forEach(function (e) {
      return e.classList.remove("sa11y-error-heading");
    }), document.querySelectorAll(".sa11y-error-text").forEach(function (e) {
      return e.classList.remove("sa11y-error-text");
    }), document.querySelectorAll(".sa11y-warning-border").forEach(function (e) {
      return e.classList.remove("sa11y-warning-border");
    }), document.querySelectorAll(".sa11y-warning-text").forEach(function (e) {
      return e.classList.remove("sa11y-warning-text");
    }), document.querySelectorAll("p").forEach(function (e) {
      return e.classList.remove("sa11y-fake-list");
    }), document.querySelectorAll(".sa11y-warning-uppercase").forEach(function (e) {
      return e.outerHTML = e.innerHTML;
    }), document.querySelectorAll(".sa11y-good-border").forEach(function (e) {
      return e.classList.remove("sa11y-good-border");
    }), document.querySelectorAll(".sa11y-good-text").forEach(function (e) {
      return e.classList.remove("sa11y-good-text");
    }), document.querySelectorAll("\n                .sa11y-instance,\n                .sa11y-instance-inline,\n                .sa11y-heading-label,\n                #sa11y-outline-list li,\n                .sa11y-readability-period,\n                #sa11y-readability-info span,\n                #sa11y-readability-details li,\n                .sa11y-clone-image-text\n            ").forEach(function (e) {
      return e.parentNode.removeChild(e);
    }), document.querySelectorAll(".sa11y-overflow").forEach(function (e) {
      return e.classList.remove("sa11y-overflow");
    }), document.querySelectorAll(".sa11y-fake-heading").forEach(function (e) {
      return e.classList.remove("sa11y-fake-heading");
    }), document.querySelectorAll(".sa11y-pulse-border").forEach(function (e) {
      return e.classList.remove("sa11y-pulse-border");
    }), document.querySelector("#sa11y-panel-alert").classList.remove("sa11y-active");

    for (var i = document.querySelector("#sa11y-panel-alert-text"); i.firstChild;) {
      i.removeChild(i.firstChild);
    }

    for (var o = document.querySelector("#sa11y-status"); o.firstChild;) {
      o.removeChild(o.firstChild);
    }

    e && document.querySelector("#sa11y-panel").classList.remove("sa11y-active");
  }), a(this, "clearEverything", function () {}), a(this, "initializeTooltips", function () {
    tippy(".sa11y-btn", {
      interactive: !0,
      trigger: "mouseenter click focusin",
      arrow: !0,
      delay: [200, 0],
      theme: "sa11y-theme",
      placement: "bottom",
      allowHTML: !0,
      aria: {
        content: "describedby"
      },
      appendTo: document.body
    });
  }), a(this, "detectOverflow", function () {
    document.querySelectorAll(".sa11y-btn").forEach(function (e) {
      var t = function (e, t, a) {
        for (; null !== e;) {
          if (window.getComputedStyle(e).getPropertyValue(t) === a) return e;
          e = e.parentElement;
        }

        return null;
      }(e, "overflow", "hidden");

      null !== t && t.classList.add("sa11y-overflow");
    });
  }), a(this, "updateBadge", function () {
    var e = s.errorCount + s.warningCount,
        t = s.warningCount,
        a = document.getElementById("sa11y-notification-badge");
    0 === e ? a.style.display = "none" : s.warningCount > 0 && 0 === s.errorCount ? (a.style.display = "flex", a.classList.add("sa11y-notification-badge-warning"), document.getElementById("sa11y-notification-count").innerHTML = "".concat(sa11yPanelStatus.status10(t))) : (a.style.display = "flex", a.classList.remove("sa11y-notification-badge-warning"), document.getElementById("sa11y-notification-count").innerHTML = "".concat(sa11yPanelStatus.status11(e)));
  }), a(this, "updatePanel", function () {
    s.panelActive = !0;
    var e = s.errorCount + s.warningCount,
        t = s.warningCount,
        a = s.errorCount;
    s.buildPanel(), s.skipToIssue();
    var n = document.getElementById("sa11y-cycle-toggle");
    n.disabled = !1, n.setAttribute("style", "cursor: pointer !important;"), document.getElementById("sa11y-panel").classList.add("sa11y-active");
    var r = document.getElementById("sa11y-panel-content"),
        i = document.getElementById("sa11y-status"),
        o = document.querySelectorAll(".sa11y-btn");
    1 === s.errorCount && 1 === s.warningCount ? (r.setAttribute("class", "sa11y-errors"), i.textContent = "".concat(sa11yPanelStatus.status1)) : 1 === s.errorCount && s.warningCount > 0 ? (r.setAttribute("class", "sa11y-errors"), i.textContent = "".concat(sa11yPanelStatus.status2(t))) : s.errorCount > 0 && 1 === s.warningCount ? (r.setAttribute("class", "sa11y-errors"), i.textContent = "".concat(sa11yPanelStatus.status3(a))) : s.errorCount > 0 && s.warningCount > 0 ? (r.setAttribute("class", "sa11y-errors"), i.textContent = "".concat(sa11yPanelStatus.status4(a, t))) : s.errorCount > 0 ? (r.setAttribute("class", "sa11y-errors"), i.textContent = "".concat(1 === s.errorCount ? sa11yPanelStatus.status5 : sa11yPanelStatus.status6(a))) : s.warningCount > 0 ? (r.setAttribute("class", "sa11y-warnings"), i.textContent = "".concat(1 === e ? sa11yPanelStatus.status7 : sa11yPanelStatus.status8(t))) : (r.setAttribute("class", "sa11y-good"), i.textContent = "".concat(sa11yPanelStatus.status9), 0 === o.length && (n.disabled = !0, n.setAttribute("style", "cursor: default !important;")));
  }), a(this, "buildPanel", function () {
    var e = document.getElementById("sa11y-outline-toggle"),
        t = document.getElementById("sa11y-outline-panel"),
        a = document.getElementById("sa11y-outline-list"),
        n = document.getElementById("sa11y-settings-toggle"),
        r = document.getElementById("sa11y-settings-panel"),
        s = document.getElementById("sa11y-settings-content"),
        i = document.querySelectorAll(".sa11y-heading-label");
    e.addEventListener("click", function (s) {
      "true" == e.getAttribute("aria-expanded") ? (e.classList.remove("sa11y-outline-active"), t.classList.remove("sa11y-active"), e.textContent = "".concat(sa11yShowOutline), e.setAttribute("aria-expanded", "false"), localStorage.setItem("sa11y-remember-outline", "Closed")) : (e.classList.add("sa11y-outline-active"), t.classList.add("sa11y-active"), e.textContent = "".concat(sa11yHideOutline), e.setAttribute("aria-expanded", "true"), localStorage.setItem("sa11y-remember-outline", "Opened")), document.querySelector("#sa11y-outline-header > h2").focus(), i.forEach(function (e) {
        return e.classList.toggle("sa11y-label-visible");
      }), r.classList.remove("sa11y-active"), n.classList.remove("sa11y-settings-active"), n.setAttribute("aria-expanded", "false"), n.textContent = "".concat(sa11yShowSettings), a.clientHeight > 250 && a.setAttribute("tabindex", "0");
    }), "Opened" === localStorage.getItem("sa11y-remember-outline") && (e.classList.add("sa11y-outline-active"), t.classList.add("sa11y-active"), e.textContent = "".concat(sa11yHideOutline), e.setAttribute("aria-expanded", "true"), i.forEach(function (e) {
      return e.classList.toggle("sa11y-label-visible");
    }), a.clientHeight > 250 && a.setAttribute("tabindex", "0")), n.addEventListener("click", function (a) {
      "true" === n.getAttribute("aria-expanded") ? (n.classList.remove("sa11y-settings-active"), r.classList.remove("sa11y-active"), n.textContent = "".concat(sa11yShowSettings), n.setAttribute("aria-expanded", "false")) : (n.classList.add("sa11y-settings-active"), r.classList.add("sa11y-active"), n.textContent = "".concat(sa11yHideSettings), n.setAttribute("aria-expanded", "true")), document.querySelector("#sa11y-settings-header > h2").focus(), t.classList.remove("sa11y-active"), e.classList.remove("sa11y-outline-active"), e.setAttribute("aria-expanded", "false"), e.textContent = "".concat(sa11yShowOutline), i.forEach(function (e) {
        return e.classList.remove("sa11y-label-visible");
      }), localStorage.setItem("sa11y-remember-outline", "Closed"), s.clientHeight > 350 && s.setAttribute("tabindex", "0");
    }), document.getElementById("sa11y-panel-controls").addEventListener("keydown", function (e) {
      var t = document.querySelectorAll("#sa11y-outline-toggle[role=tab], #sa11y-settings-toggle[role=tab]");
      if ("ArrowRight" === e.key) for (var a = 0; a < t.length; a++) {
        if ("true" === t[a].getAttribute("aria-expanded") || "false" === t[a].getAttribute("aria-expanded")) {
          t[a + 1].focus(), e.preventDefault();
          break;
        }
      }
      if ("ArrowDown" === e.key) for (var n = 0; n < t.length; n++) {
        if ("true" === t[n].getAttribute("aria-expanded") || "false" === t[n].getAttribute("aria-expanded")) {
          t[n + 1].focus(), e.preventDefault();
          break;
        }
      }
      if ("ArrowLeft" === e.key) for (var r = t.length - 1; r > 0; r--) {
        if ("true" === t[r].getAttribute("aria-expanded") || "false" === t[r].getAttribute("aria-expanded")) {
          t[r - 1].focus(), e.preventDefault();
          break;
        }
      }
      if ("ArrowUp" === e.key) for (var s = t.length - 1; s > 0; s--) {
        if ("true" === t[s].getAttribute("aria-expanded") || "false" === t[s].getAttribute("aria-expanded")) {
          t[s - 1].focus(), e.preventDefault();
          break;
        }
      }
    });
    var o = document.getElementById("sa11y-close-alert"),
        l = document.getElementById("sa11y-panel-alert"),
        c = document.getElementById("sa11y-panel-alert-text"),
        d = document.getElementById("sa11y-cycle-toggle");
    o.addEventListener("click", function () {
      for (l.classList.remove("sa11y-active"); c.firstChild;) {
        c.removeChild(c.firstChild);
      }

      document.querySelectorAll(".sa11y-pulse-border").forEach(function (e) {
        return e.classList.remove("sa11y-pulse-border");
      }), d.focus();
    });
  }), a(this, "skipToIssue", function () {
    var e = !1,
        t = "smooth";

    if (!("scrollBehavior" in document.documentElement.style)) {
      var a = document.createElement("script");
      a.src = "https://cdn.jsdelivr.net/npm/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js", document.head.appendChild(a);
    }

    document.documentMode || ("function" == typeof window.matchMedia && (e = window.matchMedia("(prefers-reduced-motion: reduce)")), e && !e.matches || (t = "auto"));
    var n = 0,
        r = i(".sa11y-btn").length;
    document.onkeyup = function (e) {
      e.altKey && "Period" == e.code && (s(), e.preventDefault());
    }, document.getElementById("sa11y-cycle-toggle").addEventListener("click", function (e) {
      s(), e.preventDefault();
    });

    var s = function s() {
      var e = document.querySelectorAll(".sa11y-btn"),
          a = i(".sa11y-btn").eq(n).closest(":visible").offset().top - 50,
          s = e[n].offsetTop;
      a >= 1 ? (setTimeout(function () {
        window.scrollTo({
          top: a,
          behavior: t
        });
      }, 1), i(".sa11y-btn:hidden").each(function () {
        i(this).parent().closest(":visible").addClass("sa11y-pulse-border");
      }), e[n].focus()) : e[n].focus();
      var o = document.getElementById("sa11y-panel-alert"),
          l = document.getElementById("sa11y-panel-alert-text"),
          c = document.getElementById("sa11y-panel-alert-preview"),
          d = document.getElementById("sa11y-close-alert");
      0 == s ? (o.classList.add("sa11y-active"), l.textContent = "".concat(sa11yPanelStatus.notVisibleAlert), c.innerHTML = e[n].getAttribute("data-tippy-content"), d.focus()) : s < 1 && (o.classList.remove("sa11y-active"), document.querySelectorAll(".sa11y-pulse-border").forEach(function (e) {
        return e.classList.remove("sa11y-pulse-border");
      })), (n += 1) >= r && (n = 0);
    };
  }), a(this, "findElements", function () {
    var e = s.root,
        t = s.containerIgnore;
    s.$p = e.find("p").not(t), s.$h = e.find("h1, h2, h3, h4, h5, h6, [role='heading'][aria-level]").not(t);
  }), a(this, "checkHeaders", function () {
    var e;
    s.$h.each(function (t, a) {
      var r,
          o = i(a),
          l = s.computeTextNodeWithImage(o),
          c = s.sanitizeForHTML(l);
      r = o.attr("aria-level") ? +o.attr("aria-level") : +o[0].tagName.slice(1);
      var d = o.text().trim().length,
          u = null,
          y = null;
      if (r - e > 1 && 0 !== t) u = sa11yIM.headings.nonConsecutiveHeadingLevel(e, r);else if (0 == o.text().trim().length) {
        if (o.find("img").length) {
          var g = o.find("img").attr("alt");
          null != g && " " != g && "" != g || (u = sa11yIM.headings.emptyHeadingWithImage(r), o.addClass("sa11y-error-text"));
        } else u = sa11yIM.headings.emptyHeading(r), o.addClass("sa11y-error-text");
      } else 0 === t && 1 !== r && 2 !== r ? u = sa11yIM.headings.firstHeading : o.text().trim().length > 170 && (y = sa11yIM.headings.longHeading(d));
      e = r;
      var f = "<li class='sa11y-outline-".concat(r, "'>\n                <span class='sa11y-badge'>").concat(r, "</span> \n                <span class='sa11y-outline-list-item'>").concat(c, "</span>\n            </li>"),
          m = "<li class='sa11y-outline-".concat(r, "'>\n                <span class='sa11y-badge sa11y-error-badge'>\n                <span aria-hidden='true'>&#10007;</span>\n                <span class='sa11y-visually-hidden'>").concat(sa11yError, "</span> ").concat(r, "</span> \n                <span class='sa11y-outline-list-item sa11y-red-text sa11y-bold'>").concat(c, "</span>\n            </li>"),
          b = "<li class='sa11y-outline-".concat(r, "'>\n                <span class='sa11y-badge sa11y-warning-badge'>\n                <span aria-hidden='true'>&#x3f;</span>\n                <span class='sa11y-visually-hidden'>").concat(sa11yWarning, "</span> ").concat(r, "</span> \n                <span class='sa11y-outline-list-item sa11y-yellow-text sa11y-bold'>").concat(c, "</span>\n            </li>");
      0 !== o.not(sa11yOutlineIgnore).length && (o.not(sa11yOutlineIgnore).append("<span class='sa11y-heading-label'>H".concat(r, "</span>")), null != u && o.closest("a").length > 0 ? (s.errorCount++, o.addClass("sa11y-error-heading"), o.closest("a").after(n(sa11yError, u, !0)), i("#sa11y-outline-list").append(m)) : null != u ? (s.errorCount++, o.addClass("sa11y-error-heading"), o.before(n(sa11yError, u)), i("#sa11y-outline-list").append(m)) : null != y && o.closest("a").length > 0 ? (s.warningCount++, o.closest("a").after(n(sa11yWarning, y)), i("#sa11y-outline-list").append(b)) : null != y ? (s.warningCount++, o.before(n(sa11yWarning, y)), i("#sa11y-outline-list").append(b)) : null != u && null != y || i("#sa11y-outline-list").append(f));
    }), 0 === s.root.find("h1, [role='heading'][aria-level='1']").not(s.containerIgnore).length && (s.errorCount++, i("#sa11y-outline-header").after("<div class='sa11y-instance sa11y-missing-h1'>\n                    <span class='sa11y-badge sa11y-error-badge'><span aria-hidden='true'>&#10007;</span><span class='sa11y-visually-hidden'>".concat(sa11yError, "</span></span> \n                    <span class='sa11y-red-text sa11y-bold'>").concat(sa11yIM.headings.missingHeadingOnePanelText, "</span>\n                </div>")), i("#sa11y-container").after(r(sa11yError, sa11yIM.headings.missingHeadingOne)));
  }), a(this, "checkLinkText", function () {
    var e = this;

    i.fn.ignore = function (e) {
      return this.clone().find(e || ">*").remove().end();
    };

    var t = this.root.find("a[href]").not(this.linkIgnore),
        a = sa11yIM.linktext;
    t.each(function (t, r) {
      var s,
          o,
          l = i(r),
          c = e.computeAriaLabel(l),
          d = l.attr("aria-labelledby"),
          u = l.attr("aria-label"),
          y = l.attr("title"),
          g = l.children().attr("aria-labelledby"),
          f = l.children().attr("aria-label"),
          m = l.children().attr("title"),
          b = (s = l.ignore(sa11yLinkIgnoreSpan).text().trim(), o = [null, null, null], i.each(sa11yPartialAltStopWords, function (e, t) {
        if (s.length === t.length && s.toLowerCase().indexOf(t) >= 0) return o[0] = t, !1;
      }), i.each(sa11yWarningAltWords, function (e, t) {
        if (s.toLowerCase().indexOf(t) >= 0) return o[1] = t, !1;
      }), i.each(["http", ".asp", ".htm", ".php", ".edu/", ".com/", ".net/", ".org/", ".us/", ".ca/", ".de/", ".icu/", ".uk/", ".ru/", ".info/", ".top/", ".xyz/", ".tk/", ".cn/", ".ga/", ".cf/", ".nl/", ".io/"], function (e, t) {
        if (s.toLowerCase().indexOf(t) >= 0) return o[2] = t, !1;
      }), o);
      if ("noAria" === c && (c = l.text()), void 0 !== l.attr("href") && 0 == l.text().trim().length) {
        if (l.find("img").length) ;else if (null != d || null != u) l.addClass("sa11y-good-border"), l.before(n(sa11yGood, a.linkLabel(c), !0));else if (null != y) {
          var h = l.attr("title");
          l.addClass("sa11y-good-border"), l.before(n(sa11yGood, a.linkLabel(h), !0));
        } else l.children().length ? null != g || null != f || null != m ? (l.addClass("sa11y-good-border"), l.before(n(sa11yGood, a.linkLabel(c), !0))) : (e.errorCount++, l.addClass("sa11y-error-border"), l.after(n(sa11yError, a.emptyLinkNoLabel, !0))) : (e.errorCount++, l.addClass("sa11y-error-border"), l.after(n(sa11yError, a.emptyLink, !0)));
      } else null != b[0] ? null != d ? l.before(n(sa11yGood, a.linkLabel(c), !0)) : null != u ? l.before(n(sa11yGood, a.linkLabel(u), !0)) : "true" == l.attr("aria-hidden") && "-1" == l.attr("tabindex") || (e.errorCount++, l.addClass("sa11y-error-text"), l.after(n(sa11yError, a.linkStopWordMessage(b[0]), !0))) : null != b[1] ? (e.warningCount++, l.addClass("sa11y-warning-text"), l.after(n(sa11yWarning, a.linkBestPractices(b[1]), !0))) : null != b[2] && c.length > 40 && (e.warningCount++, l.addClass("sa11y-warning-text"), l.after(n(sa11yWarning, a.linkURL, !0)));
    });
  }), a(this, "checkLinksAdvanced", function () {
    var e = sa11yIM.linksAdvanced,
        t = s.root.find("a[href]").not(s.linkIgnore).not("#sa11y-container a").not(".sa11y-exclude"),
        a = {};
    t.each(function (t, r) {
      var o = i(r),
          l = s.computeAriaLabel(o);
      "noAria" === l && (l = o.text());
      var c = o.filter("\n                    a[href$='.pdf'], \n                    a[href$='.doc'], \n                    a[href$='.zip'], \n                    a[href$='.mp3'], \n                    a[href$='.txt'], \n                    a[href$='.exe'], \n                    a[href$='.dmg'], \n                    a[href$='.rtf'],\n                    a[href$='.pptx'],\n                    a[href$='.ppt'],\n                    a[href$='.xls'],\n                    a[href$='.xlsx'],\n                    a[href$='.csv'],\n                    a[href$='.mp4'],\n                    a[href$='.mov'],\n                    a[href$='.avi']\n                ").length,
          d = o.find("img").attr("alt");
      void 0 === d && (d = "");
      var u = l.trim().toLowerCase() + " " + d,
          y = o.attr("href");
      a[u] && 0 !== u.length ? a[y] || (s.warningCount++, o.addClass("sa11y-warning-text"), o.after(n(sa11yWarning, e.linkIdenticalName(l), !0))) : (a[u] = !0, a[y] = !0);
      var g = sa11yNewWindowPhrases.some(function (e) {
        return l.toLowerCase().indexOf(e) >= 0;
      }),
          f = sa11yFileTypePhrases.some(function (e) {
        return l.toLowerCase().indexOf(e) >= 0;
      });
      "_blank" !== o.attr("target") || 0 !== c || g || (s.warningCount++, o.addClass("sa11y-warning-text"), o.after(n(sa11yWarning, e.newTabWarning, !0))), 1 !== c || f || (s.warningCount++, o.addClass("sa11y-warning-text"), o.before(n(sa11yWarning, e.fileTypeWarning, !0)));
    });
  }), a(this, "checkAltText", function () {
    s.containsAltTextStopWords = function (e) {
      var t = [null, null, null];
      return [".png", ".jpg", ".jpeg", ".gif", ".tiff", ".svg"].forEach(function (a) {
        e.toLowerCase().indexOf(a) >= 0 && (t[0] = a);
      }), sa11ySuspiciousAltWords.forEach(function (a) {
        e.toLowerCase().indexOf(a) >= 0 && (t[1] = a);
      }), sa11yPlaceholderAltStopWords.forEach(function (a) {
        e.length === a.length && e.toLowerCase().indexOf(a) >= 0 && (t[2] = a);
      }), t;
    };

    var e = sa11yIM.images,
        t = document.querySelector(sa11yCheckRoot),
        a = Array.from(t.querySelectorAll("img")),
        r = Array.from(t.querySelectorAll(s.imageIgnore));
    a.filter(function (e) {
      return !r.includes(e);
    }).forEach(function (t) {
      var a = t.getAttribute("alt");
      if (null == a) t.closest("a[href]") ? t.closest("a[href]").textContent.trim().length > 1 ? (t.classList.add("sa11y-error-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yError, e.missingAltLinkButHasTextMessage, !1))) : 0 == t.closest("a[href]").textContent.trim().length && (t.classList.add("sa11y-error-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yError, e.missingAltLinkMessage, !1))) : (t.classList.add("sa11y-error-border"), t.insertAdjacentHTML("beforebegin", n(sa11yError, e.missingAltMessage, !1)));else {
        var r = s.sanitizeForHTML(a),
            i = s.containsAltTextStopWords(r),
            o = a.length;
        null != i[0] && t.closest("a[href]") ? (s.errorCount++, t.classList.add("sa11y-error-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yError, e.linkImageBadAltMessage(r, i[0]), !1))) : null != i[2] && t.closest("a[href]") ? (s.errorCount++, t.classList.add("sa11y-error-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yError, e.linkImagePlaceholderAltMessage(r), !1))) : null != i[1] && t.closest("a[href]") ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yWarning, e.linkImageSusAltMessage(r, i[1]), !1))) : null != i[0] ? (s.errorCount++, t.classList.add("sa11y-error-border"), t.insertAdjacentHTML("beforebegin", n(sa11yError, e.altHasBadWordMessage(r, i[0]), !1))) : null != i[2] ? (s.errorCount++, t.classList.add("sa11y-error-border"), t.insertAdjacentHTML("beforebegin", n(sa11yError, e.altPlaceholderMessage(r), !1))) : null != i[1] ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.altHasSusWordMessage(r, i[1]), !1))) : "" != a && " " != a || !t.closest("a[href]") ? a.length > 250 && t.closest("a[href]") ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yWarning, e.hyperlinkAltLengthMessage(r, o), !1))) : "" != a && t.closest("a[href]") && 0 == t.closest("a[href]").textContent.trim().length ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yWarning, e.imageLinkAltTextMessage(r), !1))) : "" != a && t.closest("a[href]") && t.closest("a[href]").textContent.trim().length > 1 ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yWarning, e.anchorLinkAndAltMessage(r), !1))) : "" == a || " " == a ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.decorativeMessage, !1))) : a.length > 250 ? (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.altTooLongMessage(r, o), !1))) : "" != a && t.insertAdjacentHTML("beforebegin", n(sa11yGood, e.passAlt(r), !1)) : "-1" == t.closest("a[href]").getAttribute("tabindex") && "true" == t.closest("a[href]").getAttribute("aria-hidden") || ("true" == t.closest("a[href]").getAttribute("aria-hidden") ? (s.errorCount++, t.classList.add("sa11y-error-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yError, e.hyperlinkedImageAriaHidden, !1))) : 0 == t.closest("a[href]").textContent.trim().length ? (s.errorCount++, t.classList.add("sa11y-error-border"), t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yError, e.imageLinkNullAltNoTextMessage, !1))) : t.closest("a[href]").insertAdjacentHTML("beforebegin", n(sa11yGood, e.linkHasAltMessage, !1)));
      }
    });
  }), a(this, "checkLabels", function () {
    s.root.find("input, select, textarea").not(s.containerIgnore).not("input:hidden").each(function (e, t) {
      var a = i(t),
          r = s.computeAriaLabel(a),
          o = sa11yIM.labels;
      if ("submit" === a.attr("type") || "button" === a.attr("type") || "hidden" === a.attr("type")) ;else if ("image" === a.attr("type")) {
        var l = a.attr("alt");
        null != l && "" != l && " " != l || void 0 !== a.attr("aria-label") || (s.errorCount++, a.addClass("sa11y-error-border"), a.after(n(sa11yError, o.missingImageInputMessage, !0)));
      } else if ("reset" === a.attr("type")) s.warningCount++, a.addClass("sa11y-warning-border"), a.after(n(sa11yWarning, o.inputResetMessage, !0));else if (a.attr("aria-label") || a.attr("aria-labelledby") || a.attr("title")) {
        if (a.attr("title")) {
          var c = a.attr("title");
          s.warningCount++, a.addClass("sa11y-warning-border"), a.after(n(sa11yWarning, o.ariaLabelInputMessage(c), !0));
        } else s.warningCount++, a.addClass("sa11y-warning-border"), a.after(n(sa11yWarning, o.ariaLabelInputMessage(r), !0));
      } else if (a.parents().is("label") && 0 !== a.parents("label").text().trim().length) ;else if (a.attr("id") && a.prevAll().is("label") || a.nextAll().is("label")) {
        var d = a.prevAll("label"),
            u = a.nextAll("label");
        d.attr("for") === a.attr("id") || u.attr("for") === a.attr("id") || (s.errorCount++, a.addClass("sa11y-error-border"), a.after(n(sa11yError, o.noForAttributeMessage(a.attr("id")), !0)));
      } else s.errorCount++, a.addClass("sa11y-error-border"), a.after(n(sa11yError, o.missingLabelMessage, !0));
    });
  }), a(this, "checkEmbeddedContent", function () {
    var e = sa11yIM.embeddedContent,
        t = document.querySelector(sa11yCheckRoot),
        a = Array.from(t.querySelectorAll(s.containerIgnore)),
        r = Array.from(t.querySelectorAll("iframe, audio, video")).filter(function (e) {
      return !a.includes(e);
    });
    r.filter(function (e) {
      return e.matches($sa11yVideos);
    }).forEach(function (t) {
      var a = t.getElementsByTagName("TRACK");
      "VIDEO" === t.tagName && a.length || (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.video)));
    }), r.filter(function (e) {
      return e.matches($sa11yAudio);
    }).forEach(function (t) {
      s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.audio));
    }), r.filter(function (e) {
      return e.matches($sa11yDataViz);
    }).forEach(function (t) {
      s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.dataviz));
    }), r.filter(function (e) {
      return e.matches($sa11yTwitter);
    }).forEach(function (t) {
      t.contentWindow.document.body.querySelectorAll(".timeline-TweetList-tweet").length > 3 && (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.twitter)));
    }), r.forEach(function (t) {
      "VIDEO" === t.tagName || "AUDIO" === t.tagName || "true" === t.getAttribute("aria-hidden") || null !== t.getAttribute("hidden") || "none" == t.style.display || "presentation" === t.getAttribute("role") || null !== t.getAttribute("title") && "" !== t.getAttribute("title") || null !== t.getAttribute("aria-label") && "" !== t.getAttribute("aria-label") || null === t.getAttribute("aria-labelledby") && (t.classList.contains("sa11y-warning-border") && t.classList.remove("sa11y-warning-border"), s.errorCount++, t.classList.add("sa11y-error-border"), t.insertAdjacentHTML("beforebegin", n(sa11yError, e.missingEmbedTitle)));
    }), r.filter(function (e) {
      return !e.matches($sa11yAllEmbeddedContent);
    }).forEach(function (t) {
      "VIDEO" === t.tagName || "AUDIO" === t.tagName || "true" === t.getAttribute("aria-hidden") || null !== t.getAttribute("hidden") || "none" == t.style.display || "presentation" === t.getAttribute("role") || "-1" === t.getAttribute("tabindex") || (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.generalEmbedWarning)));
    });
  }), a(this, "checkQA", function () {
    var e = sa11yIM.QA,
        t = document.querySelector(sa11yCheckRoot),
        a = Array.from(t.querySelectorAll(s.containerIgnore));
    Array.from(t.querySelectorAll(sa11yLinksToFlag)).filter(function (e) {
      return !a.includes(e);
    }).forEach(function (t) {
      s.errorCount++, t.classList.add("sa11y-error-text"), t.insertAdjacentHTML("afterend", n(sa11yError, e.badLink(t), !0));
    });
    var o = s.root.find("a[href$='.pdf']").not(s.containerIgnore),
        l = s.root.find("a[href$='.pdf']:first").not(s.containerIgnore),
        c = o.length;
    o.length > 0 && (s.warningCount++, o.addClass("sa11y-warning-text"), o.has("img").removeClass("sa11y-warning-text"), l.after(n(sa11yWarning, e.pdf(c), !0))), Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6, p, li:not([class^='sa11y']), blockquote")).filter(function (e) {
      return !a.includes(e);
    }).forEach(function (e) {
      var t = e.innerHTML;
      e.innerHTML = t.replace(/(?!<a[^>]*?>)(\b[A-Z][',!:A-Z\s]{15,}|\b[A-Z]{15,}\b)(?![^<]*?<\/a>)/g, "<span class='sa11y-warning-uppercase'>$1</span>");
    });
    var d = document.querySelectorAll(".sa11y-warning-uppercase");
    d.forEach(function (t) {
      t.insertAdjacentHTML("afterend", n(sa11yWarning, e.uppercaseWarning, !0));
    }), d.length > 0 && s.warningCount++, Array.from(t.querySelectorAll("table:not([role='presentation'])")).filter(function (e) {
      return !a.includes(e);
    }).forEach(function (t) {
      var a = t.querySelectorAll("th"),
          r = t.querySelectorAll("h1, h2, h3, h4, h5, h6");
      0 == a.length && (s.errorCount++, t.classList.add("sa11y-error-border"), t.insertAdjacentHTML("beforebegin", n(sa11yError, e.tables.missingHeadings))), r.length > 0 && (s.errorCount++, r.forEach(function (t) {
        t.classList.add("sa11y-error-heading"), t.parentNode.classList.add("sa11y-error-border"), t.insertAdjacentHTML("beforebegin", n(sa11yError, e.tables.semanticHeading));
      })), a.forEach(function (t) {
        0 == t.textContent.trim().length && (s.errorCount++, t.classList.add("sa11y-error-border"), t.innerHTML = n(sa11yError, e.tables.emptyHeading));
      });
    });
    var u = document.querySelector("html").getAttribute("lang");
    (null == u || u.length < 2) && (s.errorCount++, document.getElementById("sa11y-container").insertAdjacentHTML("afterend", r(sa11yError, e.pageLanguageMessage))), Array.from(t.querySelectorAll("strong, em")).filter(function (e) {
      return !a.includes(e);
    }).forEach(function (t) {
      t.textContent.trim().length > 400 && (s.warningCount++, t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.badItalics)));
    }), Array.from(t.querySelectorAll("blockquote")).filter(function (e) {
      return !a.includes(e);
    }).forEach(function (t, a) {
      var r = t.textContent;
      r.trim().length < 25 && (s.warningCount++, t.classList.add("sa11y-warning-border"), t.insertAdjacentHTML("beforebegin", n(sa11yWarning, e.blockquoteMessage(r))));
    }), s.$p.each(function (t, a) {
      var r = i(a),
          o = r.html().indexOf("</strong><br>"),
          l = r.html().indexOf("<br></strong>");

      if (r && r.text().trim().length >= 300) {
        var c = r.contents()[0];

        if (i(c).is("strong") && (-1 !== l || -1 !== o)) {
          var d = r.find("strong").text();
          r && d.length <= 120 && (r.find("strong").addClass("sa11y-fake-heading sa11y-error-heading"), r.before(n(sa11yWarning, e.fakeHeading(d))));
        }
      }

      var u = r.filter(function () {
        return /^<(strong)>.+<\/\1>$/.test(i.trim(i(this).html()));
      });

      if (u.text().length <= 120 && 1 !== u.prev(s.$h).length && 1 == u.next(s.$p).length) {
        var y = u.text();
        u.addClass("sa11y-fake-heading sa11y-error-heading"), u.find("strong").after(n(sa11yWarning, e.fakeHeading(y), !0));
      }
    }), i(".sa11y-fake-heading").length > 0 && s.warningCount++;

    var y = "",
        g = {
      b: "a",
      B: "A",
      2: "1"
    },
        f = /a\.|a\)|A\.|A\)|1\.|1\)|\*\s|-\s|--|•\s|→\s|✓\s|✔\s|✗\s|✖\s|✘\s|❯\s|›\s|»\s/,
        m = function m(e) {
      return e.replace(/^b|^B|^2/, function (e) {
        return g[e];
      });
    };

    s.$p.each(function (t, a) {
      var r = i(a),
          s = !1,
          o = r.text().substring(0, 2);

      if (o.trim().length > 0 && o !== y && o.match(f)) {
        var l = r.html().indexOf("<br>");

        if (-1 !== l) {
          var c = r.html().substring(l + 4).trim().substring(0, 2);
          o === m(c) && (s = !0);
        }

        s || i(a).next("p") && o === m(r.next().text().substring(0, 2)) && (s = !0), s ? (this.warningCount++, r.before(n(sa11yWarning, e.shouldBeList(o))), r.addClass("sa11y-fake-list"), y = o) : y = "";
      } else y = "";
    }), i(".sa11y-fake-list").length > 0 && s.warningCount++, s.root.find(".announcement-component").not(s.containerIgnore).length > 1 && (s.warningCount++, i(".announcement-component:gt(0)").addClass("sa11y-warning-border"), i(".announcement-component:gt(0)").before(n(sa11yWarning, e.announcementWarningMessage)));
  }), a(this, "checkContrast", function () {
    var e = document.querySelector(sa11yCheckRoot),
        t = Array.from(e.querySelectorAll(s.containerIgnore)),
        a = Array.from(e.querySelectorAll("* > :not(.sa11y-heading-label)")).filter(function (e) {
      return !t.includes(e);
    }),
        r = {
      errors: [],
      warnings: []
    },
        i = a,
        o = {
      parseRgb: function parseRgb(e) {
        var t, a, n, r, s;

        if (a = e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)) {
          for (n = a.slice(1, 4), t = r = 0; r <= 2; t = ++r) {
            n[t] = +n[t];
          }

          n[3] = 1;
        } else if (a = e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/)) for (n = a.slice(1, 5), t = s = 0; s <= 3; t = ++s) {
          n[t] = +n[t];
        }

        return n;
      },
      relativeLuminance: function relativeLuminance(e) {
        for (var t = [], a = 0; a < 3; a++) {
          var n = e[a] / 255;
          t.push(n < .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4));
        }

        return .2126 * t[0] + .7152 * t[1] + .0722 * t[2];
      },
      contrastRatio: function contrastRatio(e, t) {
        var a = o.relativeLuminance(o.parseRgb(e)),
            n = o.relativeLuminance(o.parseRgb(t));
        return (Math.max(a, n) + .05) / (Math.min(a, n) + .05);
      },
      getBackground: function getBackground(e) {
        var t = getComputedStyle(e),
            a = t.backgroundColor,
            n = t.backgroundImage,
            r = (o.parseRgb(a) + "").split(",");
        return r[3] < 1 && r[3] > 0 ? "alpha" : "rgba(0, 0, 0, 0)" !== a && "transparent" !== a && "none" === n && "0" !== r[3] ? a : "none" !== n ? "image" : "HTML" === e.tagName ? "rgb(255, 255, 255)" : o.getBackground(e.parentNode);
      },
      isVisible: function isVisible(e) {
        return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length);
      },
      check: function check() {
        r = {
          errors: [],
          warnings: []
        };

        for (var e = 0; e < i.length; e++) {
          !function (e) {
            var t = i[e];

            if (o) {
              var a,
                  n,
                  s,
                  l = getComputedStyle(t),
                  c = l.color,
                  d = l.fill,
                  u = 3 * parseInt(l.fontSize) / 4,
                  y = l.fontWeight,
                  g = t.tagName,
                  f = o.getBackground(t),
                  m = [].reduce.call(t.childNodes, function (e, t) {
                return e + (3 === t.nodeType ? t.textContent : "");
              }, "").trim();
              "SVG" === g ? (a = Math.round(100 * o.contrastRatio(d, f)) / 100) < 3 && (n = {
                elem: t,
                ratio: a + ":1"
              }, r.errors.push(n)) : (m.length || "INPUT" === g || "SELECT" === g || "TEXTAREA" === g) && ("image" === f || "alpha" === f ? (s = {
                elem: t
              }, r.warnings.push(s)) : (a = Math.round(100 * o.contrastRatio(c, f)) / 100, u >= 18 || u >= 14 && y >= 700 ? a < 3 && (n = {
                elem: t,
                ratio: a + ":1"
              }, r.errors.push(n)) : a < 4.5 && (n = {
                elem: t,
                ratio: a + ":1"
              }, r.errors.push(n))));
            }
          }(e);
        }

        return r;
      }
    };
    o.check();
    var l = sa11yIM.contrast,
        c = l.errorMessage,
        d = l.warningMessage;
    r.errors.forEach(function (e) {
      for (var t = e.elem, a = e.ratio, r = t.cloneNode(!0), i = r.querySelectorAll(".sa11y-heading-label"), o = 0; o < i.length; o++) {
        r.removeChild(i[o]);
      }

      var l = r.textContent;
      s.errorCount++, t.insertAdjacentHTML("beforebegin", n(sa11yError, c(a, l)));
    }), r.warnings.forEach(function (e) {
      for (var t = e.elem, a = t.cloneNode(!0), r = a.querySelectorAll(".sa11y-heading-label"), i = 0; i < r.length; i++) {
        a.removeChild(r[i]);
      }

      var o = a.textContent;
      s.warningCount++, t.insertAdjacentHTML("beforebegin", n(sa11yWarning, d(o)));
    });
  }), a(this, "checkReadability", function () {
    var e = document.querySelector(sa11yReadabilityRoot),
        t = Array.from(e.querySelectorAll(s.containerIgnore)),
        a = Array.from(e.querySelectorAll("p, li")).filter(function (e) {
      return !t.includes(e);
    });

    function n(e) {
      if ((e = e.toLowerCase().replace(".", "").replace("\n", "")).length <= 3) return 1;
      var t = (e = (e = e.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/, "")).replace(/^y/, "")).match(/[aeiouy]{1,2}/g);
      if (t) var a = t.length;else a = 0;
      return a;
    }

    a.forEach(function (e) {
      var t = e.textContent;
      "." !== t.charAt(t.length - 1) && e.insertAdjacentHTML("beforeend", "<span class='sa11y-readability-period sa11y-visually-hidden'>.</span>");
    });

    for (var r = [], i = 0; i < a.length; i++) {
      var o = a[i];
      "" !== o.textContent.replace(/ |\n/g, "") && r.push(o.textContent);
    }

    var l = r.join(" ").trim().toString(),
        c = l.replace(/[.!?-]+/g, " ").split(" "),
        d = 0;

    for (i = 0; i < c.length; i++) {
      0 != c[i] && (d += 1);
    }

    var u = l.split(/[.!?]+/),
        y = 0;

    for (i = 0; i < u.length; i++) {
      "" != u[i] && (y += 1);
    }

    var g,
        f = 0,
        m = 0,
        b = 0;

    for (i = 0; i < c.length; i++) {
      if (0 != c[i]) {
        var h = n(c[i]);
        1 == h && (m += 1), 2 == h && (b += 1), f += h;
      }
    }

    "en" === sa11yReadabilityLang ? g = 206.835 - 1.015 * d / y - 84.6 * f / d : "fr" === sa11yReadabilityLang ? g = 207 - 1.015 * d / y - 73.6 * f / d : "es" === sa11yReadabilityLang && (g = 206.84 - 1.02 * d / y - 100 * f / d * .6), g > 100 ? g = 100 : g < 0 && (g = 0);
    var p = sa11yIM.readability,
        v = document.getElementById("sa11y-readability-info");
    if (0 === l.length) v.innerHTML = p.noPorLiMessage;else if (d > 30) {
      var A = g.toFixed(1),
          C = (d / y).toFixed(1),
          x = Math.round((d - (m + b)) / d * 100);
      v.innerHTML = A >= 0 && A < 30 ? "<span>".concat(A, '</span> <span class="sa11y-readability-score">').concat(sa11yVeryDifficultReadability, "</span>") : A > 31 && A < 49 ? "<span>".concat(A, '</span> <span class="sa11y-readability-score">').concat(sa11yDifficultReadability, "</span>") : A > 50 && A < 60 ? "<span>".concat(A, '</span> <span class="sa11y-readability-score">').concat(sa11yFairlyDifficultReadability, "</span>") : "<span>".concat(A, '</span> <span class="sa11y-readability-score">').concat(sa11yGoodReadability, "</span>"), document.getElementById("sa11y-readability-details").innerHTML = "<li><span class='sa11y-bold'>".concat(sa11yAvgWordPerSentence, "</span> ").concat(C, "</li>\n                <li><span class='sa11y-bold'>").concat(sa11yComplexWords, "</span> ").concat(x, "%</li>\n                <li><span class='sa11y-bold'>").concat(sa11yTotalWords, "</span> ").concat(d, "</li>");
    } else v.textContent = p.notEnoughContentMessage;
  });
  var l = document.createElement("div");
  l.setAttribute("id", "sa11y-container"), l.setAttribute("role", "region"), l.setAttribute("lang", sa11yLangCode), l.setAttribute("aria-label", sa11yContainerLabel);
  var c = "On" === localStorage.getItem("sa11y-remember-contrast"),
      d = "On" === localStorage.getItem("sa11y-remember-labels"),
      u = "On" === localStorage.getItem("sa11y-remember-links-advanced"),
      y = "On" === localStorage.getItem("sa11y-remember-readability");
  l.innerHTML = '<button type="button" aria-expanded="false" id="sa11y-toggle" aria-describedby="sa11y-notification-badge" aria-label="'.concat(sa11yMainToggleLabel, '" disabled>\n                    ').concat("<svg role='img' focusable='false' width='35px' height='35px' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='#ffffff' d='M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z'/></svg>", '\n                    <div id="sa11y-notification-badge">\n                        <span id="sa11y-notification-count"></span>\n                    </div>\n                </button>') + '<div id="sa11y-panel">' + '<div id="sa11y-outline-panel" role="tabpanel" aria-labelledby="sa11y-outline-header">\n                <div id="sa11y-outline-header" class="sa11y-header-text">\n                    <h2 tabindex="-1">'.concat(o._("JOOMLA_A11Y_CHECKER_PAGE_OUTLINE"), '</h2>\n                </div>\n                <div id="sa11y-outline-content">\n                    <ul id="sa11y-outline-list"></ul>\n                </div>') + '<div id="sa11y-readability-panel">\n                    <div id="sa11y-readability-content">\n                        <h2 class="sa11y-header-text-inline">'.concat(sa11yReadability, '</h2>\n                        <p id="sa11y-readability-info"></p>\n                        <ul id="sa11y-readability-details"></ul>\n                    </div>\n                </div>\n            </div>') + '<div id="sa11y-settings-panel" role="tabpanel" aria-labelledby="sa11y-settings-header">\n                <div id="sa11y-settings-header" class="sa11y-header-text">\n                    <h2 tabindex="-1">'.concat(sa11ySettings, '</h2>\n                </div>\n                <div id="sa11y-settings-content">\n                    <ul id="sa11y-settings-options">  \n                        <li>\n                            <label id="check-contrast" for="sa11y-contrast-toggle">').concat(sa11yContrast, '</label>\n                            <button id="sa11y-contrast-toggle" \n                            aria-labelledby="check-contrast" \n                            class="sa11y-settings-switch" \n                            aria-pressed="').concat(c ? "true" : "false", '">').concat(c ? sa11yOn : sa11yOff, '</button>\n                        </li>\n                        <li>\n                            <label id="check-labels" for="sa11y-labels-toggle">').concat(sa11yFormLabels, '</label>\n                            <button id="sa11y-labels-toggle" aria-labelledby="check-labels" class="sa11y-settings-switch" \n                            aria-pressed="').concat(d ? "true" : "false", '">').concat(d ? sa11yOn : sa11yOff, '</button>\n                        </li>\n                        <li>\n                            <label id="check-changerequest" for="sa11y-links-advanced-toggle">').concat(sa11yLinksAdvanced, ' <span class="sa11y-badge">AAA</span></label>\n                            <button id="sa11y-links-advanced-toggle" aria-labelledby="check-changerequest" class="sa11y-settings-switch" \n                            aria-pressed="').concat(u ? "true" : "false", '">').concat(u ? sa11yOn : sa11yOff, '</button>\n                        </li>\n                        <li>\n                            <label id="check-readability" for="sa11y-readability-toggle">').concat(sa11yReadability, ' <span class="sa11y-badge">AAA</span></label>\n                            <button id="sa11y-readability-toggle" aria-labelledby="check-readability" class="sa11y-settings-switch" \n                            aria-pressed="').concat(y ? "true" : "false", '">').concat(y ? sa11yOn : sa11yOff, '</button>\n                        </li>\n                        <li>\n                            <label id="dark-mode" for="sa11y-theme-toggle">').concat(sa11yDarkMode, '</label>\n                            <button id="sa11y-theme-toggle" aria-labelledby="dark-mode" class="sa11y-settings-switch"></button>\n                        </li>\n                    </ul>\n                </div>\n            </div>') + '<div id="sa11y-panel-alert">\n                <div class="sa11y-header-text">\n                    <button id="sa11y-close-alert" class="sa11y-close-btn" aria-label="'.concat(sa11yAlertClose, '" aria-describedby="sa11y-alert-heading sa11y-panel-alert-text"></button>\n                    <h2 id="sa11y-alert-heading">').concat(sa11yAlertText, '</h2>\n                </div>\n                <p id="sa11y-panel-alert-text"></p>\n                <div id="sa11y-panel-alert-preview"></div>\n            </div>') + '<div id="sa11y-panel-content">\n                <button id="sa11y-cycle-toggle" type="button" aria-label="'.concat(sa11yShortcutSR, '">\n                    <div class="sa11y-panel-icon"></div>\n                </button>\n                <div id="sa11y-panel-text"><p id="sa11y-status" aria-live="polite"></p></div>\n            </div>') + '<div id="sa11y-panel-controls" role="tablist" aria-orientation="horizontal">\n                <button type="button" role="tab" aria-expanded="false" id="sa11y-outline-toggle" aria-controls="sa11y-outline-panel">\n                    '.concat(sa11yShowOutline, '\n                </button>\n                <button type="button" role="tab" aria-expanded="false" id="sa11y-settings-toggle" aria-controls="sa11y-settings-panel">\n                    ').concat(sa11yShowSettings, '\n                </button>\n                <div style="width:35px"></div> \n            </div>') + "</div>", document.getElementsByTagName("BODY")[0].prepend(l), this.settingPanelToggles(), i(document).ready(function () {
    s.loadGlobals(), s.sa11yMainToggle(), s.sanitizeHTMLandComputeARIA(), s.initializeJumpToIssueTooltip();
  }), setTimeout(function () {
    i(document).ready(function () {
      document.getElementById("sa11y-toggle").disabled = !1, "Closed" !== localStorage.getItem("sa11y-remember-panel") && null !== localStorage.getItem("sa11y-remember-panel") || (s.checkAll(), s.resetAll());
    });
  }, 500);
}();
